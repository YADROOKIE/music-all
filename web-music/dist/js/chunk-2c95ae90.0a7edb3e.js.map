{"version":3,"sources":["webpack:///./src/views/newSongs/NewSongs.vue?8f16","webpack:///./src/network/newsongs.js","webpack:///./src/views/newSongs/NewSongsItem.vue?d15e","webpack:///src/views/newSongs/NewSongsItem.vue","webpack:///./src/views/newSongs/NewSongsItem.vue?258c","webpack:///./src/views/newSongs/NewSongsItem.vue","webpack:///src/views/newSongs/NewSongs.vue","webpack:///./src/views/newSongs/NewSongs.vue?a5c3","webpack:///./src/views/newSongs/NewSongs.vue","webpack:///./src/assets/img/playMusic/rebofang.svg","webpack:///./src/views/newSongs/NewSongsItem.vue?530f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","getNewSongs","type","request","url","params","staticClass","_v","_l","item","index","key","on","$event","changeType","value","_s","name","attrs","newSongsList","tableRowClassName","open","scopedSlots","_u","fn","scope","row","album","blurPicUrl","enterArtist","id","artists","length","_e","_f","duration","data","nations","currentRowIndex","mixins","created","then","methods","$router","push","path","query","row_index","rowIndex","$confirm","component","components","NewSongsItem","module","exports"],"mappings":"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","file":"js/chunk-2c95ae90.0a7edb3e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NewSongsItem')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from './request'\r\n\r\n\r\n\r\n// 获取最新音乐\r\nexport function getNewSongs(type) {\r\n    return request({\r\n        url: '/top/song',\r\n        params: {\r\n            type\r\n        }\r\n    })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"top\"},[_c('h3',[_vm._v(\"最新音乐\")]),_vm._l((_vm.nations),function(item,index){return _c('span',{key:index,on:{\"click\":function($event){return _vm.changeType(item.value)}}},[_vm._v(_vm._s(item.name))])})],2),_c('el-table',{attrs:{\"data\":_vm.newSongsList,\"stripe\":\"\",\"row-class-name\":_vm.tableRowClassName},on:{\"row-dblclick\":_vm.open}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"album\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"musicPlay\"},[_c('img',{attrs:{\"src\":scope.row.album.blurPicUrl,\"alt\":\"\"}}),_c('img',{staticClass:\"bofang\",attrs:{\"src\":require(\"../../assets/img/playMusic/rebofang.svg\"),\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(scope.row.name))])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"artists\",\"label\":\"歌手\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"artistsName\"},_vm._l((scope.row.artists),function(item,index){return _c('div',{key:index,staticClass:\"artistsNameItem\"},[_c('span',{on:{\"click\":function($event){return _vm.enterArtist(item.id)}}},[_vm._v(\" \"+_vm._s(item.name))]),(index - 0 != scope.row.artists.length - 1)?_c('p',[_vm._v(\"/\")]):_vm._e()])}),0)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"album\",\"label\":\"专辑\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"albumName\"},[_vm._v(\" \"+_vm._s(scope.row.album.name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"duration\",\"label\":\"时长\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormatms\")(scope.row.duration))+\" \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 头部部分 -->\r\n    <div class=\"top\">\r\n      <h3>最新音乐</h3>\r\n      <span\r\n        v-for=\"(item, index) in nations\"\r\n        :key=\"index\"\r\n        @click=\"changeType(item.value)\"\r\n        >{{ item.name }}</span\r\n      >\r\n    </div>\r\n\r\n    <!-- 列表部分 -->\r\n    <el-table\r\n      :data=\"newSongsList\"\r\n      stripe\r\n      @row-dblclick=\"open\"\r\n      :row-class-name=\"tableRowClassName\"\r\n    >\r\n      <el-table-column type=\"index\"></el-table-column>\r\n      <!-- 播放操作栏 -->\r\n      <el-table-column prop=\"album\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"musicPlay\">\r\n            <img :src=\"scope.row.album.blurPicUrl\" alt=\"\" />\r\n            <img\r\n              src=\"../../assets/img/playMusic/rebofang.svg\"\r\n              alt=\"\"\r\n              class=\"bofang\"\r\n            />\r\n            <p>{{ scope.row.name }}</p>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- 歌手栏 -->\r\n      <el-table-column prop=\"artists\" label=\"歌手\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"artistsName\">\r\n            <div\r\n              v-for=\"(item, index) in scope.row.artists\"\r\n              :key=\"index\"\r\n              class=\"artistsNameItem\"\r\n            >\r\n              <span @click=\"enterArtist(item.id)\"> {{ item.name }}</span>\r\n              <p v-if=\"index - 0 != scope.row.artists.length - 1\">/</p>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- 专辑栏 -->\r\n      <el-table-column prop=\"album\" label=\"专辑\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"albumName\">\r\n            {{ scope.row.album.name }}\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- 时长栏 -->\r\n      <el-table-column prop=\"duration\" label=\"时长\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            {{ scope.row.duration | dateFormatms }}\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { getNewSongs } from \"../../network/newsongs\";\r\nimport { getSongsDetail, songDetail } from \"../../network/discover\";\r\nimport { indexMixin } from \"../../components/PlayMusic\";\r\nexport default {\r\n  name: \"NewSongsItem\",\r\n  data() {\r\n    return {\r\n      nations: [\r\n        { value: \"0\", name: \"全部\" },\r\n        { value: \"7\", name: \"华语\" },\r\n        { value: \"96\", name: \"欧美\" },\r\n        { value: \"16\", name: \"韩国\" },\r\n        { value: \"8\", name: \"日本\" }\r\n      ],\r\n      newSongsList: [],\r\n      type: 0,\r\n      currentRowIndex: 0\r\n    };\r\n  },\r\n  mixins: [indexMixin],\r\n  created() {\r\n    getNewSongs(this.type).then(res => {\r\n      this.newSongsList = res.data.data;\r\n    });\r\n  },\r\n  methods: {\r\n    changeType(type) {\r\n      this.type = type;\r\n      getNewSongs(this.type).then(res => {\r\n        this.newSongsList = res.data.data;\r\n      });\r\n    },\r\n    // 进入歌手页面\r\n    enterArtist(id) {\r\n      this.$router.push({\r\n        path: \"/artist-list\",\r\n        query: {\r\n          id: id\r\n        },\r\n        name: \"ArtistListDetail\"\r\n      });\r\n    },\r\n    tableRowClassName({ row, rowIndex }) {\r\n      row.row_index = rowIndex;\r\n    },\r\n    open(row, event, column) {\r\n      this.currentRowIndex = row.row_index;\r\n      this.$confirm(\r\n        \"“双击播放”会用当前列表的音乐替换播放列表, 是否继续?\",\r\n        \"替换播放列表\",\r\n        {\r\n          confirmButtonText: \"继续\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        }\r\n      )\r\n        .then(() => {\r\n          this.$message(\"音乐缓存需要10~20s，请稍后\");\r\n          this.$bus.$emit(\"playingIndex\", this.currentRowIndex);\r\n          this.playMusic(this.currentRowIndex);\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    async playMusic(index) {\r\n      this.musiclist = [];\r\n      for (let i in this.newSongsList) {\r\n        const { data: res } = await getSongsDetail(this.newSongsList[i].id);\r\n        let song = new songDetail(res.songs);\r\n        this.musiclist.push(song);\r\n\r\n        if (i == this.newSongsList.length - 1) {\r\n          this.PlayMusic(index);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.top {\r\n  position: relative;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  border-bottom: 1px rgb(225, 225, 225) solid;\r\n  align-items: flex-end;\r\n}\r\n.top span {\r\n  font-size: 16px;\r\n  color: rgb(136, 136, 136);\r\n  margin-left: 20px;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n}\r\nimg {\r\n  width: 48px;\r\n  height: 48px;\r\n  cursor: pointer;\r\n}\r\n.bofang {\r\n  position: absolute;\r\n  width: 30px;\r\n  height: 30px;\r\n  top: 9px;\r\n  left: 9px;\r\n  cursor: pointer;\r\n}\r\n.musicPlay {\r\n  position: relative;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  height: 48px;\r\n}\r\n.musicPlay p {\r\n  font-size: 16px;\r\n  margin: 0;\r\n  display: inline-block;\r\n  height: 100%;\r\n  line-height: 48px;\r\n}\r\n.artistsName {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.artistsNameItem {\r\n  display: flex;\r\n}\r\n.artistsNameItem span {\r\n  line-height: 51px;\r\n  cursor: pointer;\r\n  padding: 0 3px;\r\n}\r\n.albumName {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongsItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongsItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewSongsItem.vue?vue&type=template&id=529ebe47&scoped=true&\"\nimport script from \"./NewSongsItem.vue?vue&type=script&lang=js&\"\nexport * from \"./NewSongsItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewSongsItem.vue?vue&type=style&index=0&id=529ebe47&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"529ebe47\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <NewSongsItem />\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { getNewSongs } from \"../../network/newsongs\";\r\nimport NewSongsItem from \"./NewSongsItem\";\r\nexport default {\r\n  name: \"NewSongs\",\r\n  components: {\r\n    NewSongsItem\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewSongs.vue?vue&type=template&id=0777d9d5&scoped=true&\"\nimport script from \"./NewSongs.vue?vue&type=script&lang=js&\"\nexport * from \"./NewSongs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0777d9d5\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/rebofang.8c5ef1d6.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongsItem.vue?vue&type=style&index=0&id=529ebe47&scoped=true&lang=css&\""],"sourceRoot":""}