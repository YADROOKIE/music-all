{"version":3,"sources":["webpack:///./src/views/mvList/MvList.vue?e56c","webpack:///src/views/mvList/MvList.vue","webpack:///./src/views/mvList/MvList.vue?c8ea","webpack:///./src/views/mvList/MvList.vue","webpack:///./src/views/mvList/MvList.vue?e3ef","webpack:///./src/network/ticket.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_l","item","key","id","staticClass","staticStyle","cover","_v","_s","name","createAt","on","$event","buy","staticRenderFns","data","list","param","created","console","log","res","methods","userStr","sessionStorage","getItem","user","JSON","parse","ticketId","userId","$message","component","buyTicket","request","url","method","listTicket","userTicketOrder"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAKN,EAAIO,GAAIP,EAAQ,MAAE,SAASQ,GAAM,OAAOJ,EAAG,SAAS,CAACK,IAAID,EAAKE,GAAGJ,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,MAAM,CAACO,YAAY,WAAW,CAACP,EAAG,MAAM,CAACO,YAAY,QAAQC,YAAY,CAAC,MAAQ,OAAO,QAAU,SAASN,MAAM,CAAC,IAAM,yBAAyBE,EAAKK,SAAST,EAAG,MAAM,CAACQ,YAAY,CAAC,QAAU,SAAS,CAACR,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGP,EAAKQ,SAASZ,EAAG,MAAM,CAACO,YAAY,mBAAmB,CAACP,EAAG,MAAM,CAACQ,YAAY,CAAC,aAAa,MAAM,MAAQ,SAAS,CAACZ,EAAIc,GAAGd,EAAIe,GAAGP,EAAKS,aAAab,EAAG,YAAY,CAACc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,IAAIZ,EAAKE,OAAO,CAACV,EAAIc,GAAG,SAAS,YAAW,IAAI,IAC/rBO,EAAkB,G,YCuBtB,GAEEL,KAAM,SACNM,KAHF,WAII,MAAJ,CACMC,KAAN,GACMC,MAAN,KAGEC,QATF,WASA,WACI,OAAJ,OAAI,GAAJ,kBACMC,QAAQC,IAAIC,GACZ,EAAN,0BAGEC,QAAF,CACIT,IADJ,SACA,cACUU,EAAUC,eAAeC,QAAQ,QACrC,GAAN,eAAM,CAOA,IAAIC,EAAOC,KAAKC,MAAML,GACtB7B,KAAKuB,MAAMY,SAAW1B,EACtBT,KAAKuB,MAAMa,OAAS,EAA1B,GACM,OAAN,OAAM,CAAN,8BACQX,QAAQC,IAAIC,GACpB,kBACU,EAAV,UACY,QAAZ,OACY,KAAZ,YAGU,EAAV,UACY,QAAZ,OACY,KAAZ,mBAnBQ3B,KAAKqC,SAAS,CACZ,QAAV,UACU,KAAV,eC7C+V,I,wBCQ3VC,EAAY,eACd,EACAxC,EACAsB,GACA,EACA,KACA,WACA,MAIa,aAAAkB,E,2CCnBf,W,oCCAA,sHAGO,SAASC,EAAUlB,GACtB,OAAOmB,eAAQ,CACXC,IAAK,oBACLC,OAAO,OACPrB,SAID,SAASsB,IACZ,OAAOH,eAAQ,CACXC,IAAK,qBACLC,OAAO,QAKR,SAASE,EAAgBnC,GAC5B,OAAO+B,eAAQ,CACXC,IAAK,yBAAyBhC,EAC9BiC,OAAO,U","file":"js/chunk-242f5766.760da811.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.list),function(item){return _c('el-col',{key:item.id,attrs:{\"span\":6}},[_c('div',{staticClass:\"mborder\"},[_c('img',{staticClass:\"image\",staticStyle:{\"width\":\"100%\",\"display\":\"block\"},attrs:{\"src\":'http://localhost:8080/'+item.cover}}),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('span',[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"bottom clearfix\"},[_c('div',{staticStyle:{\"margin-top\":\"2px\",\"color\":\"grey\"}},[_vm._v(_vm._s(item.createAt))]),_c('el-button',{on:{\"click\":function($event){return _vm.buy(item.id)}}},[_vm._v(\"购买\")])],1)])])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n      <el-row :gutter=\"20\">\r\n        <el-col class=\"\" :span=\"6\" v-for=\"item  in list\" :key=\"item.id\">\r\n          <div class=\"mborder\">\r\n            <img style=\"width: 100%;display: block;\" :src=\"'http://localhost:8080/'+item.cover\" class=\"image\">\r\n            <div style=\"padding: 14px;\">\r\n              <span>{{item.name}}</span>\r\n              <div class=\"bottom clearfix\">\r\n                <div style=\"margin-top:2px;color:grey;\">{{item.createAt}}</div>\r\n                <el-button  @click=\"buy(item.id)\">购买</el-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport {listTicket,buyTicket} from '../../network/ticket.js'\r\n\r\nexport default {\r\n\r\n  name: \"MvList\",\r\n  data(){\r\n    return{\r\n      list:[],\r\n      param:{}\r\n    }\r\n  },\r\n  created(){\r\n    listTicket().then(res=>{\r\n      console.log(res)\r\n      this.list = res.data.data.list \r\n    })\r\n  },\r\n  methods:{\r\n    buy(id){\r\n      var userStr = sessionStorage.getItem('user')\r\n      if(userStr==null || userStr==''){\r\n        this.$message({\r\n              message: \"未登录请先登录\",\r\n              type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      var user = JSON.parse(userStr)\r\n      this.param.ticketId = id\r\n      this.param.userId =  user.id\r\n      buyTicket(this.param).then(res=>{\r\n        console.log(res)\r\n        if(res.data.code===20000){\r\n          this.$message({\r\n              message: \"购买成功\",\r\n              type: \"success\"\r\n          });\r\n        }else{\r\n          this.$message({\r\n              message: \"购买失败\",\r\n              type: \"danger\"\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.mborder{\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MvList.vue?vue&type=template&id=4b35a908&scoped=true&\"\nimport script from \"./MvList.vue?vue&type=script&lang=js&\"\nexport * from \"./MvList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MvList.vue?vue&type=style&index=0&id=4b35a908&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b35a908\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MvList.vue?vue&type=style&index=0&id=4b35a908&scoped=true&lang=css&\"","import { request } from './request'\r\n\r\n\r\nexport function buyTicket(data) {\r\n    return request({\r\n        url: '/share/ticket/buy',\r\n        method:'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function listTicket() {\r\n    return request({\r\n        url: '/share/ticket/list',\r\n        method:'get'\r\n    })\r\n}\r\n\r\n\r\nexport function userTicketOrder(id) {\r\n    return request({\r\n        url: '/share/ticket/myorder/'+id,\r\n        method:'get'\r\n    })\r\n}"],"sourceRoot":""}