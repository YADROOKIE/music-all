{"version":3,"sources":["webpack:///./src/views/admin/Admin.vue?9001","webpack:///./src/network/admin.js","webpack:///src/views/admin/Admin.vue","webpack:///./src/views/admin/Admin.vue?8e7c","webpack:///./src/views/admin/Admin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","on","$event","dialogFormVisible","dialogRFormVisible","attrs","form","staticClass","handleAvatarSuccess","beforeAvatarUpload","imageUrl","success","handleRemove","beforeRemove","handleExceed","fileList","slot","model","value","callback","$$v","$set","expression","addMusic","rForm","handleAvatarSuccessR","imageUrlR","addTicket","staticRenderFns","adminAddMusic","data","request","url","method","adminAddTicket","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,SAASF,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIS,mBAAoB,KAAQ,CAACT,EAAIM,GAAG,UAAUF,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIU,oBAAqB,KAAQ,CAACV,EAAIM,GAAG,UAAUF,EAAG,YAAY,CAACO,MAAM,CAAC,MAAQ,OAAO,QAAUX,EAAIS,kBAAkB,MAAQ,MAAM,OAAS,IAAIF,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAIS,kBAAkBD,KAAU,CAACJ,EAAG,UAAU,CAACO,MAAM,CAAC,MAAQX,EAAIY,OAAO,CAACR,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,CAACP,EAAG,YAAY,CAACS,YAAY,kBAAkBF,MAAM,CAAC,OAAS,oCAAoC,kBAAiB,EAAM,aAAaX,EAAIc,oBAAoB,gBAAgBd,EAAIe,qBAAqB,CAAEf,EAAY,SAAEI,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAIgB,SAAS,MAAQ,QAAQ,OAAS,WAAWZ,EAAG,IAAI,CAACS,YAAY,yCAAyC,GAAGT,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAG,YAAY,CAACS,YAAY,cAAcF,MAAM,CAAC,OAAS,oCAAoC,aAAaX,EAAIiB,QAAQ,YAAYjB,EAAIkB,aAAa,gBAAgBlB,EAAImB,aAAa,SAAW,GAAG,MAAQ,EAAE,YAAYnB,EAAIoB,aAAa,YAAYpB,EAAIqB,WAAW,CAACjB,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACX,EAAIM,GAAG,UAAUF,EAAG,MAAM,CAACS,YAAY,iBAAiBF,MAAM,CAAC,KAAO,OAAOW,KAAK,OAAO,CAACtB,EAAIM,GAAG,gBAAgB,IAAI,GAAGF,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,aAAe,OAAOY,MAAM,CAACC,MAAOxB,EAAIY,KAAc,UAAEa,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIY,KAAM,YAAac,IAAME,WAAW,qBAAqB,GAAGxB,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,aAAe,OAAOY,MAAM,CAACC,MAAOxB,EAAIY,KAAS,KAAEa,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIY,KAAM,OAAQc,IAAME,WAAW,gBAAgB,GAAGxB,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,aAAe,OAAOY,MAAM,CAACC,MAAOxB,EAAIY,KAAW,OAAEa,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIY,KAAM,SAAUc,IAAME,WAAW,kBAAkB,IAAI,GAAGxB,EAAG,MAAM,CAACS,YAAY,gBAAgBF,MAAM,CAAC,KAAO,UAAUW,KAAK,UAAU,CAAClB,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIS,mBAAoB,KAAS,CAACT,EAAIM,GAAG,SAASF,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI6B,cAAc,CAAC7B,EAAIM,GAAG,WAAW,IAAI,GAAGF,EAAG,YAAY,CAACO,MAAM,CAAC,MAAQ,OAAO,QAAUX,EAAIU,mBAAmB,MAAQ,MAAM,OAAS,IAAIH,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAIU,mBAAmBF,KAAU,CAACJ,EAAG,UAAU,CAACO,MAAM,CAAC,MAAQX,EAAI8B,QAAQ,CAAC1B,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,OAAO,CAACP,EAAG,YAAY,CAACS,YAAY,kBAAkBF,MAAM,CAAC,OAAS,oCAAoC,kBAAiB,EAAM,aAAaX,EAAI+B,qBAAqB,gBAAgB/B,EAAIe,qBAAqB,CAAEf,EAAa,UAAEI,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAIgC,UAAU,MAAQ,QAAQ,OAAS,WAAW5B,EAAG,IAAI,CAACS,YAAY,yCAAyC,GAAGT,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAG,WAAW,CAACO,MAAM,CAAC,aAAe,OAAOY,MAAM,CAACC,MAAOxB,EAAI8B,MAAU,KAAEL,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAI8B,MAAO,OAAQJ,IAAME,WAAW,iBAAiB,IAAI,GAAGxB,EAAG,MAAM,CAACS,YAAY,gBAAgBF,MAAM,CAAC,KAAO,UAAUW,KAAK,UAAU,CAAClB,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIU,oBAAqB,KAAS,CAACV,EAAIM,GAAG,SAASF,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIiC,eAAe,CAACjC,EAAIM,GAAG,WAAW,IAAI,IAAI,IACh3G4B,EAAkB,G,4CCEf,SAASC,EAAcC,GAC1B,OAAOC,eAAQ,CACXC,IAAK,sBACLC,OAAO,OACPH,SAKD,SAASI,EAAeJ,GAC3B,OAAOC,eAAQ,CACXC,IAAK,4BACLC,OAAO,OACPH,SC8DR,OACE,KADF,WAEI,MAAJ,CACM,mBAAN,EACM,oBAAN,EACM,KAAN,GACM,MAAN,GACM,eAAN,QACM,SAAN,GACM,SAAN,KACM,UAAN,OAGE,QAAF,CACI,SADJ,WACM,IAAN,OACM,EAAN,6BACQ,QAAR,OACA,mBACU,EAAV,QACU,EAAV,cACU,EAAV,qBACU,EAAV,YACU,EAAV,UACY,QAAZ,OACY,KAAZ,iBAKI,UAhBJ,WAgBM,IAAN,OACM,EAAN,8BACQ,QAAR,OACA,mBACU,EAAV,SACU,EAAV,eACU,EAAV,sBACU,EAAV,UACY,QAAZ,OACY,KAAZ,iBAKI,aA9BJ,SA8BA,KACM,KAAN,oBAEI,aAjCJ,SAiCA,KACM,KAAN,wGAEI,aApCJ,SAoCA,KACM,OAAN,2CAEI,QAvCJ,SAuCA,OACM,QAAN,OACM,QAAN,qBACM,KAAN,+BAEI,oBA5CJ,SA4CA,KACM,QAAN,OACM,KAAN,kDACM,KAAN,4BAEI,qBAjDJ,SAiDA,KACM,QAAN,OACM,KAAN,mDACM,KAAN,6BAEI,mBAtDJ,SAsDA,GACM,IAAN,wBACA,qBAQM,OANN,GACQ,KAAR,kCAEA,GACQ,KAAR,kCAEA,QC3J8V,I,YCO1VK,EAAY,eACd,EACA1C,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAO,E","file":"js/chunk-2d0c1282.59bcde26.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" 管理员 \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加歌曲\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogRFormVisible = true}}},[_vm._v(\"添加演出\")]),_c('el-dialog',{attrs:{\"title\":\"添加歌曲\",\"visible\":_vm.dialogFormVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"封面\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:8080/file/upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{attrs:{\"src\":_vm.imageUrl,\"width\":\"100px\",\"height\":\"100px\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"音乐文件\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"http://localhost:8080/file/upload\",\"on-success\":_vm.success,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传MP3文件\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"歌名\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.musicName),callback:function ($$v) {_vm.$set(_vm.form, \"musicName\", $$v)},expression:\"form.musicName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}})],1),_c('el-form-item',{attrs:{\"label\":\"歌手\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.singer),callback:function ($$v) {_vm.$set(_vm.form, \"singer\", $$v)},expression:\"form.singer\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addMusic()}}},[_vm._v(\"添加歌曲\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加演出\",\"visible\":_vm.dialogRFormVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogRFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.rForm}},[_c('el-form-item',{attrs:{\"label\":\"封面\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:8080/file/upload\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccessR,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrlR)?_c('img',{attrs:{\"src\":_vm.imageUrlR,\"width\":\"100px\",\"height\":\"100px\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"演出名称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.rForm.name),callback:function ($$v) {_vm.$set(_vm.rForm, \"name\", $$v)},expression:\"rForm.name\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogRFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addTicket()}}},[_vm._v(\"添加演出\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request } from './request'\r\n\r\n\r\nexport function adminAddMusic(data) {\r\n    return request({\r\n        url: '/web/base-music/add',\r\n        method:'post',\r\n        data\r\n    })\r\n}\r\n\r\n\r\nexport function adminAddTicket(data) {\r\n    return request({\r\n        url: '/share/commodity/rest/add',\r\n        method:'post',\r\n        data\r\n    })\r\n}","<template>\r\n    <div>\r\n        管理员\r\n        <el-button @click=\"dialogFormVisible = true\">添加歌曲</el-button>\r\n        <el-button @click=\"dialogRFormVisible = true\">添加演出</el-button>\r\n    <el-dialog title=\"添加歌曲\" :visible.sync=\"dialogFormVisible\" width=\"30%\" center >\r\n        \r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"封面\">\r\n            <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"http://localhost:8080/file/upload\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"imageUrl\" :src=\"imageUrl\"  width=\"100px\" height=\"100px\" >\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"音乐文件\" >\r\n            <el-upload\r\n                class=\"upload-demo\"\r\n                action=\"http://localhost:8080/file/upload\"\r\n                :on-success=\"success\"\r\n                :on-remove=\"handleRemove\"\r\n                :before-remove=\"beforeRemove\"\r\n                multiple\r\n                :limit=\"1\"\r\n                :on-exceed=\"handleExceed\"\r\n                :file-list=\"fileList\">\r\n                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">只能上传MP3文件</div>\r\n            </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"歌名\" >\r\n          <el-input v-model=\"form.musicName\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"类型\" >\r\n          <el-input v-model=\"form.type\" autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"歌手\" >\r\n          <el-input v-model=\"form.singer\" autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addMusic()\">添加歌曲</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog title=\"添加演出\" :visible.sync=\"dialogRFormVisible\" width=\"30%\" center >\r\n      <el-form :model=\"rForm\">\r\n          <el-form-item label=\"封面\">\r\n            <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"http://localhost:8080/file/upload\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccessR\"\r\n            :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"imageUrlR\" :src=\"imageUrlR\"  width=\"100px\" height=\"100px\" >\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n      </el-form-item>\r\n        <el-form-item label=\"演出名称\" >\r\n          <el-input v-model=\"rForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogRFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addTicket()\">添加演出</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {adminAddMusic,adminAddTicket} from '../../network/admin.js'\r\nexport default {\r\n    data(){\r\n        return{\r\n            dialogFormVisible:false,\r\n            dialogRFormVisible:false,\r\n            form:{},\r\n            rForm:{},\r\n            formLabelWidth: '120px',\r\n            fileList:[],\r\n            imageUrl:null,\r\n            imageUrlR:null\r\n        }\r\n    },\r\n    methods:{\r\n        addMusic(){\r\n            adminAddMusic(this.form).then(res=>{\r\n                console.log(res)\r\n                if(res.data.code==20000){\r\n                  this.form = {}\r\n                  this.imageUrl = null\r\n                  this.dialogFormVisible = false\r\n                  this.fileList = []\r\n                  this.$message({\r\n                    message: \"创建成功\",\r\n                    type: \"success\"\r\n                  });\r\n                }\r\n            })\r\n        },\r\n        addTicket(){\r\n            adminAddTicket(this.rForm).then(res=>{\r\n                console.log(res)\r\n                if(res.data.code==20000){\r\n                  this.rForm = {}\r\n                  this.imageUrlR = null\r\n                  this.dialogRFormVisible = false\r\n                  this.$message({\r\n                    message: \"创建成功\",\r\n                    type: \"success\"\r\n                  });\r\n                }\r\n            })\r\n        },\r\n      handleRemove(file, fileList) {\r\n        this.form.filePath = null\r\n      },\r\n      handleExceed(files, fileList) {\r\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n      },\r\n      beforeRemove(file, fileList) {\r\n        return this.$confirm(`确定移除 ${ file.name }？`);\r\n      },\r\n      success(response, file, fileList){\r\n          console.log(response)\r\n          console.log(response.path.slice(5))\r\n          this.form.filePath = response.path.slice(5)\r\n      },\r\n      handleAvatarSuccess(res, file) {\r\n        console.log(res)\r\n        this.imageUrl = 'http://localhost:8080/'+res.path.slice(5)\r\n        this.form.cover =  res.path.slice(5)\r\n      },\r\n      handleAvatarSuccessR(res, file) {\r\n        console.log(res)\r\n        this.imageUrlR = 'http://localhost:8080/'+res.path.slice(5)\r\n        this.rForm.cover =  res.path.slice(5)\r\n      },\r\n      beforeAvatarUpload(file) {\r\n        const isJPG = file.type === 'image/jpeg';\r\n        const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n        if (!isJPG) {\r\n          this.$message.error('上传图片只能是 JPG 格式!');\r\n        }\r\n        if (!isLt2M) {\r\n          this.$message.error('上传图片大小不能超过 2MB!');\r\n        }\r\n        return isJPG && isLt2M;\r\n      }\r\n    },\r\n    \r\n}   \r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=2343e653&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}